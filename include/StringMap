/*
	Name: StringMap.cpp
	Copyright: Apache 2.0
	Author: 瞿相荣
	Date: 18/01/23 19:14
	Description: 字符串map
*/

#ifndef STRINGMAP_CPP
#define STRINGMAP_CPP

#include"lib.h"

class StringMap
{
		STRIE* map;
	public:
		StringMap();							//构造方法
		int put(String s, void* data); 			//设置键值
		int del(String s, void* data);			//删除键值
		void* get(String s);					//获取值
		bool containsKey(String s);				//是否存在该键
		int clear();							//清空
		int destroy();							//销毁
		bool empty();							//是否为空
		int traverse(TRIE_VISIT visit);			//遍历
};

StringMap::StringMap()
{
	map = InitTrie();
}

int StringMap::put(String s, void* data)
{
	return SetTrieKeyVal(map, s.toChars(), data);
}

int StringMap::del(String s, void* data)
{
	return DelTrieKeyVal(map, s.toChars(), data);
}

void* StringMap::get(String s)
{
	return GetTrieKeyVal(map, s.toChars());
}

bool StringMap::containsKey(String s)
{
	return TrieExistKeyVal(s.toChars());
}

int StringMap::clear()
{
	return ClearTrie(map);
}

int StringMap::destroy()
{
	return DestroyTrie(map);
}

bool empty()
{
	return TrieEmpty(map);
}

int StringMap::traverse(TRIE_VISIT visit)
{
	return TrieTraverse(map, visit);
}

#endif
